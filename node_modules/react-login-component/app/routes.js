import React from 'react';
import { connect } from 'react-redux';
import { Switch, Route, withRouter } from 'react-router-dom'
import Home from './home.js';
import CustomInput from './customInput.js';
import { login } from './actions/loginActions.js';

import EnsureLoggedInContainer from './component/login/ensureLoggedInContainer.js';
//import Login from './component/login/login.js';
import { Login } from 'react-login-signup-form';


function mapStateToProps(state, ownProps) {
  return {
    isLoggedIn: state.login.loggedIn,
    redirectUrl: state.login.redirectUrl,
  }
}
const NewAppLogin = withRouter(connect(mapStateToProps)(Login));

const routes = (
	<div>
		<Route path='/login' render={(props) => (
		  <NewAppLogin {...props} buttonElement={<button />} tryLoginAction={login} />
		)}/>
		<EnsureLoggedInContainer>
			<Route path='/' component={Home} />
		</EnsureLoggedInContainer>
	</div>
);

export default routes;
